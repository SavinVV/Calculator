(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],[,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return App}));var C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_display__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_workspace__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9),_app_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22),_app_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_app_css__WEBPACK_IMPORTED_MODULE_8__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__),App=function(_Component){Object(C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(App,_Component);var _super=Object(C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(App);function App(e){var _;return Object(C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,App),(_=_super.call(this,e)).resultIsCalculated=!1,_.state={equationList:["0"]},_.onClickBtn=_.onClickBtn.bind(Object(C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(_)),_}return Object(C_Users_Vasiliy_Desktop_JavaScript_github_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(App,[{key:"work",value:function work(symbol){var newEquationList=this.state.equationList,firstNumber=newEquationList[0];if(isNaN(symbol)&&"."!==symbol){if("\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e"===firstNumber&&"C"!==symbol)return;if("x"===symbol&&(symbol="*"),"C"===symbol)return void this.resetEquation();var indexLastSymbol=firstNumber.length-1;if("."===firstNumber[indexLastSymbol]&&(firstNumber=this.togglePoint(firstNumber),newEquationList[0]=firstNumber),"="===symbol){if(newEquationList.length<3)newEquationList=[firstNumber];else{var res=this.calculateResult();newEquationList=[res]}this.resultIsCalculated=!0}else if("%"===symbol)newEquationList=this.processPercentSign();else if("+/-"===symbol)newEquationList=this.processPlusMinusSign();else if(3===newEquationList.length){var _res=eval(newEquationList.join(""));newEquationList=[_res,symbol]}else newEquationList[1]=symbol,this.resultIsCalculated=!1;this.setState((function(){return{equationList:newEquationList}}))}else"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e"===firstNumber&&(newEquationList=[],this.resultIsCalculated=!1),this.reedNumberInState(symbol,newEquationList)}},{key:"reedNumberInState",value:function(e,_){_.length<2?this.addDigitInNumber(_,e,0):this.addDigitInNumber(_,e,2),this.setState((function(){return{equationList:_}}))}},{key:"addDigitInNumber",value:function(e,_,t){var s=e[t];if("undefined"===typeof s||9!==s.length){if("."===_)this.resultIsCalculated||"undefined"===typeof s?(s="0.",this.resultIsCalculated=!1):s=this.togglePoint(s);else if("0"===s||"undefined"===typeof s)s=String(_);else if(this.resultIsCalculated)s=String(_),this.resultIsCalculated=!1;else if(0===t)s+=_;else if("("!==s[0])s+=_;else{var i=s.slice(2,s.length-1);s="(-".concat(i).concat(_,")")}e[t]=s}}},{key:"calculateResult",value:function calculateResult(){var equationList=this.state.equationList,res=eval(equationList.join("")),divisionByZero=res===1/0||res===-1/0||isNaN(res);return divisionByZero?"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e":res}},{key:"resetEquation",value:function(){this.setState((function(){return{equationList:["0"]}}))}},{key:"processPercentSign",value:function(){var e,_=this.state.equationList;return 3===_.length?(e=_[0]*_[2]/100,_[2]=e):2===_.length?(e=_[0]*_[0]/100,_[2]=e):_=["0"],_}},{key:"processPlusMinusSign",value:function(){var e=this.state.equationList;return e.length<2?e[0]=this.togglePlusMinusSign(e[0]):e.length>2&&(e[2]=this.togglePlusMinusSign(e[2],2)),e}},{key:"togglePlusMinusSign",value:function togglePlusMinusSign(number,indexNumberInEquation){return number=String(number),2===indexNumberInEquation?"("===number[0]?number=number.slice(2,number.length-1):0!==eval(number)&&(number="(-".concat(number,")")):"-"===number[0]?number=number.slice(1):"0"!==number&&(number="-".concat(number)),number}},{key:"togglePoint",value:function(e){var _=e.indexOf("."),t=e.length-1;return _<0?e.indexOf(")")>0?e="".concat(e.slice(0,t),".)"):e+=".":_===t?e=e.slice(0,t):_===t-1&&")"===e[t]&&(e="".concat(e.slice(0,t-1),")")),e}},{key:"onClickBtn",value:function(e){this.work(e)}},{key:"render",value:function(){var e=this.state.equationList.join("");return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"app",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_display__WEBPACK_IMPORTED_MODULE_6__.a,{data:e}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_workspace__WEBPACK_IMPORTED_MODULE_7__.a,{onClickBtn:this.onClickBtn})]})}}]),App}(react__WEBPACK_IMPORTED_MODULE_5__.Component)},,,,function(e,_,t){"use strict";t(1),t(19);var s=t(0),i=function(e){var _=e.val,t="blue";return["C","+/-","%"].indexOf(_)>-1?t="silver":["/","+","-","x"].indexOf(_)>-1?t="purple":"="===_?t="green":0===_&&(t="big"),Object(s.jsx)("button",{className:t,onClick:e.onClickBtn,children:_},_)},n=(t(20),function(e){var _=e.row,t=e.onClickBtn,n=_.map((function(e){return Object(s.jsx)(i,{val:e,onClickBtn:function(){return t(e)}},e)}));return Object(s.jsx)("div",{className:"row",children:n})}),r=(t(21),function(e){var _=e.onClickBtn,t=(e.handleKeyPress,[["C","+/-","%","/"],[7,8,9,"x"],[4,5,6,"-"],[1,2,3,"+"],[0,".","="]].map((function(e,t){return Object(s.jsx)(n,{row:e,onClickBtn:_},t)})));return Object(s.jsx)("div",{className:"workspace",children:Object(s.jsx)("div",{className:"workspace__inner",children:t})})});_.a=r},,function(e,_,t){"use strict";t(1),t(17);var s=t(0),i=function(e){var _,t=e.data;return"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e"===t?_="division_by_zero":t.length>10&&(_="little"),Object(s.jsx)("div",{className:"display",children:Object(s.jsx)("p",{className:_,children:t})})};_.a=i},,,,,function(e,_,t){},function(e,_,t){},,function(e,_,t){},function(e,_,t){},function(e,_,t){},function(e,_,t){},function(e,_,t){"use strict";t.r(_);var s=t(1),i=t.n(s),n=t(4),r=t.n(n),a=(t(16),t(5).a),u=t(0);r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(a,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.bb8c78ae.chunk.js.map